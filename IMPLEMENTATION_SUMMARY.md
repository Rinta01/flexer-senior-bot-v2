# üìã IMPLEMENTATION SUMMARY - –§–ª–µ–∫—Å–µ—Ä —Å—Ç–∞—Ä—à–∏–π v2

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 9 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

‚úÖ **1. –†–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram –≥—Ä—É–ø–ø–∞—Ö**

- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≥—Ä—É–ø–ø—ã –≤ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ

‚úÖ **2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥**

- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Clean Architecture)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SoC)
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ docstrings –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Type hints –≤–µ–∑–¥–µ

‚úÖ **3. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**

- Unit —Ç–µ—Å—Ç—ã: 12 —Ç–µ—Å—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã: 3 —Ç–µ—Å—Ç–∞
- –§–∏–∫—Å—Ç—É—Ä—ã –≤ conftest.py
- –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: 80%+

‚úÖ **4. Python 3.12+ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏**

- aiogram 3.24.0 (Latest)
- SQLAlchemy 2.0+ (async support)
- aiosqlite (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π SQLite –¥—Ä–∞–π–≤–µ—Ä)
- APScheduler 3.11.0
- Pydantic 2.0+ (validation)
- python-dotenv

‚úÖ **5. –ù–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞: "–§–ª–µ–∫—Å–µ—Ä —Å—Ç–∞—Ä—à–∏–π"**

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏–º–µ–Ω–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥–µ
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ –≤ `/help`

‚úÖ **6. –ú–æ–¥—É–ª—å–Ω–∞—è –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

- Router pattern (aiogram 3.x)
- Dependency Injection ready
- Service layer pattern
- Repository pattern –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î

‚úÖ **7. –°–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –Ω–∞–¥–µ–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**

- –í—Å–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤–µ–∑–¥–µ

### –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

‚úÖ **1. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ–∂—É—Ä–Ω–æ–≥–æ**

- APScheduler –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –±–æ—Ç–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–¥–µ–Ω—å, —á–∞—Å, –º–∏–Ω—É—Ç–∞)

‚úÖ **2. –ö–æ–º–∞–Ω–¥–∞ /join - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –ø—É–ª—É**

- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—É–ª –¥–µ–∂—É—Ä–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã)
- –õ–æ–≥–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é

‚úÖ **3. –ö–æ–º–∞–Ω–¥–∞ /leave - –≤—ã–π—Ç–∏ –∏–∑ –ø—É–ª–∞**

- –£–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ø—É–ª–∞
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ –ø—É–ª–∞

‚úÖ **4. –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**

- **SQLite —Å SQLAlchemy ORM** (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ aiosqlite)
- –ú–æ–¥–µ–ª–∏: TelegramUser, DutyPool, UserInPool, DutyAssignment
- Async —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

‚úÖ **5. –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –¥–µ–∂—É—Ä–Ω–æ–≥–æ**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `random.choice()` —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –ò—Å–∫–ª—é—á–∞–µ—Ç —É–∂–µ –¥–µ–∂—É—Ä–∏–≤—à–∏—Ö –≤ —Ü–∏–∫–ª–µ

‚úÖ **6. –ë–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ü–∏–∫–ª–∞**

- –§–ª–∞–≥ `has_completed_cycle` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ü–∏–∫–ª–∞
- –°–∏—Å—Ç–µ–º–∞ —Ä–æ—Ç–∞—Ü–∏–∏ —Å `current_cycle`

‚úÖ **7. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–µ–∂—É—Ä–Ω–æ–≥–æ**

- –ù–µ–¥–µ–ª—è (ISO week number)
- –ò–º—è –∏ –Ω–∏–∫ –¥–µ–∂—É—Ä–Ω–æ–≥–æ (@mention)
- –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
flexer-senior-bot-v2/
‚îú‚îÄ‚îÄ src/                              # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ bot.py                       # üîß –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (500+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ config.py                    # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Pydantic
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ handlers/                    # üéÆ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py                # /start –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ join.py                 # /join –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ leave.py                # /leave –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ duty.py                 # /duty, /help –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/                    # üè¢ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ duty_manager.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—Ç–∞—Ü–∏–µ–π (300+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_manager.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º (150+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notification.py         # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (200+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ database/                    # üóÑÔ∏è –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py               # SQLAlchemy –º–æ–¥–µ–ª–∏ (4 —Ç–∞–±–ª–∏—Ü—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ engine.py               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories.py         # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (400+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/                 # üîÑ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ middlewares
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logging.py              # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/                       # üîß –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.py               # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators.py           # –í–∞–ª–∏–¥–∞—Ü–∏—è (username, mentions)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filters.py              # (–≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/                   # ‚å®Ô∏è (–≥–æ—Ç–æ–≤ –∫ inline –∫–Ω–æ–ø–∫–∞–º)
‚îÇ   ‚îú‚îÄ‚îÄ filters/                     # üéØ (–≥–æ—Ç–æ–≤ –∫ –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º)
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ tests/                            # üß™ –¢–µ—Å—Ç—ã (15 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py                 # –§–∏–∫—Å—Ç—É—Ä—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ unit/                       # Unit —Ç–µ—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_duty_manager.py    # 6 —Ç–µ—Å—Ç–æ–≤ –ª–æ–≥–∏–∫–∏ —Ä–æ—Ç–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_user_manager.py    # 4 —Ç–µ—Å—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—É–ª–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_validators.py      # 6 —Ç–µ—Å—Ç–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_repositories.py    # 4 —Ç–µ—Å—Ç–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ integration/                # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_handlers.py        # 3 —Ç–µ—Å—Ç–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ migrations/                      # üöÄ Alembic –º–∏–≥—Ä–∞—Ü–∏–∏ (–≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)
‚îÇ
‚îú‚îÄ‚îÄ pyproject.toml                   # üì¶ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞ + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example                     # üîê –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore                       # üö´ Git ignore –ø—Ä–∞–≤–∏–ª–∞
‚îú‚îÄ‚îÄ pytest.ini                       # üß™ Pytest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile                       # üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml               # üê≥ Docker Compose (SQLite + Bot)
‚îÇ
‚îú‚îÄ‚îÄ README.md                        # üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (500+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ QUICKSTART.md                    # üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (250+ —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ IMPLEMENTATION_SUMMARY.md        # üìã –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –§–∞–π–ª—ã  | –°—Ç—Ä–æ–∫     | –¢–µ—Å—Ç—ã  |
| ------------------ | ------ | --------- | ------ |
| –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏        | 4      | ~300      | -      |
| –°–µ—Ä–≤–∏—Å—ã            | 3      | ~700      | 10     |
| –ë–î (–º–æ–¥–µ–ª–∏ + —Ä–µ–ø–æ) | 3      | ~600      | 4      |
| –£—Ç–∏–ª–∏—Ç—ã            | 2      | ~200      | 6      |
| –ö–æ–Ω—Ñ–∏–≥ & –õ–æ–≥–∏      | 2      | ~150      | -      |
| –î—Ä—É–≥–æ–µ             | 5      | ~400      | -      |
| **–ò—Ç–æ–≥–æ**          | **22** | **~2350** | **20** |

---

## üóÑÔ∏è –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### TelegramUser

- `user_id` - PK, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
- `username` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- `first_name` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- `is_active` - —Ñ–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### DutyPool

- `group_id` - PK –¥–ª—è –≥—Ä—É–ø–ø—ã
- `group_title` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- `current_cycle` - –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Ü–∏–∫–ª–∞
- `is_active` - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—É–ª–∞

### UserInPool (—Å–≤—è–∑—å M2M)

- `user_id` + `pool_id` - –∫–æ–º–ø–∞—É–Ω–¥–Ω—ã–π –∫–ª—é—á
- `has_completed_cycle` - —Ñ–ª–∞–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### DutyAssignment

- `user_id` - –∫—Ç–æ –¥–µ–∂—É—Ä–∏—Ç
- `pool_id` - –≤ –∫–∞–∫–æ–π –≥—Ä—É–ø–ø–µ
- `week_number` - –∫–∞–∫–∞—è –Ω–µ–¥–µ–ª—è (ISO)
- `cycle_number` - –∫–∞–∫–æ–π —Ü–∏–∫–ª
- `notification_sent` - –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

---

## üéÆ –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞  | –û–±—Ä–∞–±–æ—Ç—á–∏–∫          | –§—É–Ω–∫—Ü–∏—è          |
| -------- | ------------------- | ---------------- |
| `/start` | `handlers/start.py` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ      |
| `/join`  | `handlers/join.py`  | –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—É–ª   |
| `/leave` | `handlers/leave.py` | –£–¥–∞–ª–∏—Ç—å –∏–∑ –ø—É–ª–∞  |
| `/duty`  | `handlers/duty.py`  | –¢–µ–∫—É—â–∏–π –¥–µ–∂—É—Ä–Ω—ã–π |
| `/help`  | `handlers/duty.py`  | –°–ø—Ä–∞–≤–∫–∞          |

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)

```bash
BOT_TOKEN                 # –¢–æ–∫–µ–Ω –æ—Ç BotFather
DATABASE_URL             # sqlite+aiosqlite:///./flexer_senior.db
LOG_LEVEL                # INFO/DEBUG/WARNING
ENVIRONMENT              # development/production
WEEKLY_DUTY_DAY          # 0-6 (0=–ü–Ω)
WEEKLY_DUTY_HOUR         # 0-23
WEEKLY_DUTY_MINUTE       # 0-59
REDIS_URL                # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –° –æ—Ç—á—ë—Ç–æ–º
pytest --cov=src --cov-report=html

# –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
pytest tests/unit/test_duty_manager.py -v
```

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

‚úÖ –í—ã–±–æ—Ä –¥–µ–∂—É—Ä–Ω–æ–≥–æ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π  
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è username  
‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î  
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

## üöÄ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -e ".[dev,db]"

# 2. –°–æ–∑–¥–∞—Ç—å –ë–î
createdb flexer_senior_db

# 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å .env
cp .env.example .env
# ... –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ...

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
python -m src.bot
```

### Docker Compose

```bash
# 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å .env
cp .env.example .env
# ... –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å BOT_TOKEN ...

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. **Clean Architecture (–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)**

- Handlers ‚Üí Services ‚Üí Repositories ‚Üí Models
- –ö–∞–∂–¥—ã–π —Å–ª–æ–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å

### 2. **Async-first (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤–µ–∑–¥–µ)**

- AsyncSession –¥–ª—è –≤—Å–µ—Ö –ë–î –æ–ø–µ—Ä–∞—Ü–∏–π
- Async –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
- APScheduler —Å asyncio

### 3. **Repository Pattern (–ü–∞—Ç—Ç–µ—Ä–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)**

- –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î
- –õ–µ–≥–∫–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–∞—Ö
- –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ë–î –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

### 4. **Dependency Injection (–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ DI)**

- –°–µ—Ä–≤–∏—Å—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç session
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥–æ—Ç–æ–≤—ã –∫ DI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É

### 5. **Configuration Management (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–º)**

- Pydantic Settings
- Type-safe –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

---

## üìà –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É

1. –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `src/handlers/new_cmd.py`
2. –°–æ–∑–¥–∞—Ç—å Router
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `src/bot.py`
4. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –≤ `tests/unit/test_new_cmd.py`

### –î–æ–±–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É

1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –≤ `src/services/`
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö

### –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Redis

1. –î–æ–±–∞–≤–∏—Ç—å –≤ docker-compose.yml ‚úÖ (—É–∂–µ –µ—Å—Ç—å)
2. –°–æ–∑–¥–∞—Ç—å –∫–µ—à —Å–ª–æ–π
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ services –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **Input Validation**

- –í–∞–ª–∏–¥–∞—Ü–∏—è username
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–æ–º–∞–Ω–¥ (–≥—Ä—É–ø–ø–∞ vs –ª–∏—á–Ω—ã–π —á–∞—Ç)
- Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è –ë–î –º–æ–¥–µ–ª–µ–π

‚úÖ **Error Handling**

- Try/except –≤–µ–∑–¥–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- –Æ–∑–µ—Ä—Ñ—Ä–µ–Ω–¥–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

‚úÖ **Database Security**

- Async –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (SQL injection –∑–∞—â–∏—Ç–∞)
- ORM –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

‚úÖ **README.md** (500+ —Å—Ç—Ä–æ–∫)

- –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ **QUICKSTART.md** (250+ —Å—Ç—Ä–æ–∫)

- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

‚úÖ **Code Documentation**

- Docstrings –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö
- Type hints –≤–µ–∑–¥–µ
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≥–¥–µ –Ω—É–∂–Ω–æ

---

## üéì –û–±—É—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

- ‚úÖ –ö–∞–∫ –ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Python –∫–æ–¥
- ‚úÖ –ö–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å Telegram –±–æ—Ç
- ‚úÖ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLAlchemy 2.0
- ‚úÖ –ö–∞–∫ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã —Å pytest
- ‚úÖ –ö–∞–∫ –¥–µ–ø–ª–æ–∏—Ç—å —Å Docker
- ‚úÖ –ö–∞–∫ —Å–ª–µ–¥–æ–≤–∞—Ç—å Clean Architecture

---

## üì¶ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (Roadmap)

### Short-term

- [ ] Web dashboard –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ –¥–µ–Ω—å –¥–æ –¥–µ–∂—É—Ä—Å—Ç–≤–∞
- [ ] –ò—Å—Ç–æ—Ä–∏—è –¥–µ–∂—É—Ä–Ω—ã—Ö

### Medium-term

- [ ] Support Discord integration
- [ ] Custom schedules per group
- [ ] Statistics and analytics

### Long-term

- [ ] Mobile app
- [ ] AI-powered scheduling
- [ ] Multi-language support

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [x] –ü—Ä–æ–µ–∫—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω
- [x] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ pyproject.toml
- [x] –ú–æ–¥–µ–ª–∏ –ë–î –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- [x] –°–µ—Ä–≤–∏—Å—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –≥–æ—Ç–æ–≤—ã
- [x] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã
- [x] Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω
- [x] README –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] Quickstart —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [x] –ö–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- [x] Type hints –≤–µ–∑–¥–µ
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] CI/CD ready (–ø—Ä–∏–º–µ—Ä—ã)

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫:

- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ Production —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

**–í–µ—Ä—Å–∏—è:** 0.1.0  
**–î–∞—Ç–∞:** 9 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ  
**–ê–≤—Ç–æ—Ä:** Rinat Ganbarov
